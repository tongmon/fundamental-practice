# 멀티 쓰레드와 멀티 프로세스  

멀티 쓰레드와 멀티 프로세스의 사용 이유와 장단점을 비교해보고 C++에서 어떻게 이를 활용할 수 있는지 예제를 통해 알아보자.  
&nbsp;  

# 사용 이유  

왜 멀티 쓰레드와 멀티 프로세스를 사용할까?  
밑과 같은 맥락을 이해하면 왜 사용하는지 알 수 있다.  

>하나의 프로세스에서는 여러 개의 쓰레드를 할당하여 활용이 가능하다.   
>  
>하나의 CPU 코어는 동시에 단 하나의 쓰레드만을 수행할 수 있다.  

위의 말을 토대로 코어가 많은 CPU에서는 쓰레드를 동시에 여러개 굴릴 수 있다는 것을 알 수 있다.  
CPU가 점점 진보할수록 동시에 여러 개의 일을 시켜 더 효율적이고 빡세게 노동 시킬 수 있다는 것이다.  
&nbsp;  

그렇다면 CPU의 코어가 하나인 경우 멀티 쓰레드와 멀티 프로세스를 사용할 필요가 없냐?  
전혀 아니다.  
다량의 문서를 서버에서 다운받는 상황을 생각해보자.  
요청을 보내면 대략 3분 뒤부터 답변이 도착해 다운로드가 시작되는 서버라고 가정하자.  
그러면 요청을 보내고 CPU의 코어는 3분 동안 아무것도 안하고 대기를 해야할까?  
```
--------------------------------------------------------------------------------------
파일 1 요청 |    대기...    | 파일 1 다운로드 | 파일 2 요청 |    대기...    | 파일 2 다운로드
--------------------------------------------------------------------------------------
```
위 도식을 보면 알겠지만 비효율적이다.  
&nbsp;  

생각을 해보자.  
일단 ```다량의 문서를 서버에서 다운받는 상황```을 두 가지 작업으로 분리해보자.  
첫번째는 ```서버에 파일 다운로드를 요청```이고 두번째는 ```요청 답변이 온 데이터를 통해 파일 다운로드```이다.  
그렇다면 요청에 대한 답변이 오기 전인 3분 동안 첫번째 작업을 여러 쓰레드로 돌리고 있는다면 CPU의 코어는 계속해서 일을 할 수 있다.  
```
------------------------------------------------------------------------------------
파일 1 요청 | 파일 2 요청 | 파일 3 요청 | 파일 1 다운로드 | 파일 2 다운로드 | 파일 3 다운로드
------------------------------------------------------------------------------------
```
CPU의 코어가 대기하는 일이 없어졌다.  

&nbsp;  

## 멀티 쓰레드  

```#include <thread>```를 포함하여 사용할 수 있다.  

